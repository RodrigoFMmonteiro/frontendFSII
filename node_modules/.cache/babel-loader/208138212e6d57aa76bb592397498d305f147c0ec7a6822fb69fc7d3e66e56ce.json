{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rodri\\\\formulario-pesquisa\\\\src\\\\BarraBusca.js\",\n  _s = $RefreshSig$();\nimport { useState, useRef } from \"react\";\nimport { Form, Container } from \"react-bootstrap\";\nimport style from \"./Style\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BarraBusca({\n  placeHolder,\n  dados,\n  campoChave,\n  campoBusca,\n  funcaoSelecao,\n  valor\n}) {\n  _s();\n  const inputBusca = useRef();\n  const [termoBusca, setTermoBusca] = useState(valor ? valor : \"\");\n  const [dadosLista, setDadosLista] = useState(dados);\n  const [itemSelecionado, setItemSlecionado] = useState(false);\n  function filterResult() {\n    setDadosLista(dados.filter(item => {\n      return termoBusca.length > 1 ? item[campoBusca].toLowerCase().includes(termoBusca.toLowerCase()) : false;\n    }));\n    let componenteResult = document.querySelector('[data-result]');\n    if (dadosLista.length > 0) {\n      componenteResult.style.display = 'block';\n    } else {\n      componenteResult.style.display = 'none';\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n        id: \"barra\",\n        type: \"text\",\n        ref: inputBusca,\n        placeholder: placeHolder,\n        value: termoBusca,\n        required: true,\n        onChange: e => {\n          setTermoBusca(e.target.value.toLowerCase());\n          filterResult();\n          if (!itemSelecionado) {\n            e.target.setAttribute('aria-invalid', true);\n            e.target.setCustomValidity('erro');\n          } else {\n            e.target.removeAttribute('aria-invalid');\n            e.target.setCustomValidity(\"\");\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"16\",\n        height: \"16\",\n        fill: \"currentColor\",\n        className: \"bi bi-x-square-fill\",\n        viewBox: \"0 0 16 16\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.354 4.646L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z\",\n          onAuxClick: () => {\n            setTermoBusca('');\n            filterResult();\n            inputBusca.current.setAttribute('aria-invalid', true);\n            inputBusca.current.setCustomValidity(\"erro\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"resultados\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        \"data-result\": true,\n        children: dadosLista.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => {\n              setTermoBusca(item[campoBusca]);\n              setItemSlecionado(true);\n              funcaoSelecao(item);\n              setItemSlecionado(false);\n              funcaoSelecao({});\n              inputBusca.current.setCustomValidity(\"\");\n              let componenteResult = document.querySelector('[data-result]');\n              componenteResult.style.display = \"none\";\n            },\n            children: item[campoChave] + '-' + item[campoBusca]\n          }, item[campoChave], false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 36\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n}\n_s(BarraBusca, \"b+cMZjCJE+3/xNozP5EKC0peHn0=\");\n_c = BarraBusca;\nvar _c;\n$RefreshReg$(_c, \"BarraBusca\");","map":{"version":3,"names":["useState","useRef","Form","Container","style","jsxDEV","_jsxDEV","BarraBusca","placeHolder","dados","campoChave","campoBusca","funcaoSelecao","valor","_s","inputBusca","termoBusca","setTermoBusca","dadosLista","setDadosLista","itemSelecionado","setItemSlecionado","filterResult","filter","item","length","toLowerCase","includes","componenteResult","document","querySelector","display","children","Control","id","type","ref","placeholder","value","required","onChange","e","target","setAttribute","setCustomValidity","removeAttribute","fileName","_jsxFileName","lineNumber","columnNumber","xmlns","width","height","fill","className","viewBox","d","onAuxClick","current","map","onClick","_c","$RefreshReg$"],"sources":["C:/Users/rodri/formulario-pesquisa/src/BarraBusca.js"],"sourcesContent":["import { useState, useRef } from \"react\";\r\nimport { Form, Container } from \"react-bootstrap\";\r\nimport style from \"./Style\"\r\n\r\nexport default function BarraBusca({placeHolder, dados, campoChave, campoBusca, funcaoSelecao, valor}){\r\n    const inputBusca = useRef();\r\n    const [termoBusca, setTermoBusca] = useState(valor?valor: \"\");\r\n    const [dadosLista, setDadosLista] = useState(dados);\r\n    const [itemSelecionado, setItemSlecionado] = useState(false);\r\n    \r\n\r\n    function filterResult(){\r\n        setDadosLista(dados.filter((item)=>{\r\n            return termoBusca.length > 1 ? item[campoBusca].toLowerCase().includes(termoBusca.toLowerCase()):false\r\n        }));\r\n        let componenteResult = document.querySelector('[data-result]');\r\n        if (dadosLista.length > 0){\r\n            componenteResult.style.display='block';\r\n        }\r\n        else {\r\n            componenteResult.style.display='none';\r\n        }\r\n    }\r\n\r\n    return(\r\n\r\n        <Container>\r\n\r\n            <div>\r\n            <Form.Control\r\n                id=\"barra\"\r\n                type=\"text\"\r\n                ref={inputBusca}\r\n                placeholder={placeHolder}\r\n                value={termoBusca}\r\n                required\r\n                onChange={e=>{\r\n                    setTermoBusca(e.target.value.toLowerCase());\r\n                    filterResult();\r\n                    if(!itemSelecionado){\r\n                        e.target.setAttribute('aria-invalid',true);\r\n                        e.target.setCustomValidity('erro');\r\n                    }\r\n                    else{\r\n                        e.target.removeAttribute('aria-invalid');\r\n                        e.target.setCustomValidity(\"\");\r\n                    }\r\n                }}>\r\n            </Form.Control>\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" \r\n                width=\"16\" \r\n                height=\"16\" \r\n                fill=\"currentColor\" \r\n                className=\"bi bi-x-square-fill\" \r\n                viewBox=\"0 0 16 16\">\r\n                <path d=\"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.354 4.646L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z\"\r\n                onAuxClick={()=>{\r\n                    setTermoBusca('');\r\n                    filterResult();\r\n                    inputBusca.current.setAttribute('aria-invalid',true);\r\n                    inputBusca.current.setCustomValidity(\"erro\");\r\n                }}/>\r\n            </svg>\r\n            </div>\r\n            <div className=\"resultados\">\r\n                <ul data-result>\r\n                    {\r\n                        dadosLista.map(item => {\r\n                            return <li key={item[campoChave]}\r\n                                   onClick={()=>{\r\n                                        setTermoBusca(item[campoBusca]);\r\n                                        setItemSlecionado(true);\r\n                                        funcaoSelecao(item);\r\n                                        setItemSlecionado(false)\r\n                                        funcaoSelecao({})\r\n                                        inputBusca.current.setCustomValidity(\"\");\r\n                                        let componenteResult = document.querySelector('[data-result]');\r\n                                        componenteResult.style.display=\"none\";\r\n                                   }}>\r\n                                        {item[campoChave] + '-' + item[campoBusca]} \r\n                                \r\n                                    </li>\r\n                        })\r\n                    }\r\n\r\n                </ul>\r\n\r\n            </div>\r\n\r\n        </Container>\r\n    );\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}